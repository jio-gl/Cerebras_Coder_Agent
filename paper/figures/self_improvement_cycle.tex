\begin{tikzpicture}[
    node distance=2cm,
    auto,
    phase/.style={rectangle, draw, fill=blue!20, text width=3cm, text centered, rounded corners, minimum height=1.5cm},
    metric/.style={rectangle, draw, fill=green!20, text width=2.5cm, text centered, rounded corners, minimum height=1cm},
    decision/.style={diamond, draw, fill=yellow!20, text width=2cm, text centered, inner sep=0pt},
    line/.style={draw, -latex', thick},
    cycle/.style={draw, -latex', thick, bend left=30}
]

% Central cycle
\node [phase] (analyze) at (0,4) {Analysis Phase\\$f_{analyze}(C_t, M_t)$};
\node [phase] (specify) at (4,2) {Specification\\$f_{spec}(A_t, R_t)$};
\node [phase] (implement) at (4,-2) {Implementation\\$f_{impl}(S_t, \theta_t)$};
\node [phase] (validate) at (0,-4) {Validation\\$f_{val}(I_t, T_t)$};
\node [phase] (deploy) at (-4,-2) {Deployment\\$f_{deploy}(V_t, \alpha_t)$};
\node [phase] (monitor) at (-4,2) {Monitoring\\$f_{mon}(D_t, \beta_t)$};

% Metrics
\node [metric] (code_metrics) at (-2,6.5) {Code Metrics\\$Q_t, C_t, P_t$};
\node [metric] (performance) at (6.5,0) {Performance\\$\tau_t, \epsilon_t$};
\node [metric] (validation_metrics) at (2,-6.5) {Validation\\$\sigma_t, \rho_t$};
\node [metric] (feedback) at (-6.5,0) {User Feedback\\$F_t, U_t$};

% Decision point
\node [decision] (improve) at (0,0) {$\Delta Q > \theta$?};

% Connections - main cycle
\path [cycle] (analyze) to (specify);
\path [cycle] (specify) to (implement);
\path [cycle] (implement) to (validate);
\path [cycle] (validate) to (deploy);
\path [cycle] (deploy) to (monitor);
\path [cycle] (monitor) to (analyze);

% Connections - metrics
\path [line] (code_metrics) -- (analyze);
\path [line] (specify) -- (performance);
\path [line] (validate) -- (validation_metrics);
\path [line] (feedback) -- (deploy);

% Decision connections
\path [line] (validate) -- (improve);
\path [line] (improve) -- node[right] {Yes} (deploy);
\path [line, bend right=45] (improve) to node[below] {No} (specify);

% Mathematical annotations - positioned to avoid overlaps
\node at (0,8) {\textbf{Objective:} $\max_{\theta} \mathbb{E}[Q_{t+1} | \theta_t, D_t]$};
\node at (0,-8) {\textbf{Constraint:} $\text{BC}(I_t, I_{t-1}) \geq \gamma$};

\end{tikzpicture} 